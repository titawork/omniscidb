if(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
  add_definitions("-DHAVE_LINUX_AIO_ABI_H=1")
endif()

set(raft_canonical_src
  src/byte.c
  src/client.c
  src/configuration.c
  src/convert.c
  src/election.c
  src/entry.c
  src/err.c
  src/fixture.c
  src/heap.c
  src/log.c
  src/membership.c
  src/progress.c
  src/raft.c
  src/recv_append_entries.c
  src/recv_append_entries_result.c
  src/recv.c
  src/recv_install_snapshot.c
  src/recv_request_vote.c
  src/recv_request_vote_result.c
  src/recv_timeout_now.c
  src/replication.c
  src/snapshot.c
  src/start.c
  src/state.c
  src/syscall.c
  src/tick.c
  src/tracing.c
  src/uv_append.c
  src/uv.c
  src/uv_encoding.c
  src/uv_finalize.c
  src/uv_fs.c
  src/uv_ip.c
  src/uv_list.c
  src/uv_metadata.c
  src/uv_os.c
  src/uv_prepare.c
  src/uv_recv.c
  src/uv_segment.c
  src/uv_send.c
  src/uv_snapshot.c
  src/uv_tcp.c
  src/uv_tcp_connect.c
  src/uv_tcp_listen.c
  src/uv_truncate.c
  src/uv_writer.c
)

set(raft_canonical_hdr
  include/raft.h
  src/array.h
  src/assert.h
  src/byte.h
  src/configuration.h
  src/convert.h
  src/election.h
  src/entry.h
  src/err.h
  src/heap.h
  src/log.h
  src/membership.h
  src/progress.h
  src/queue.h
  src/recv_append_entries.h
  src/recv_append_entries_result.h
  src/recv.h
  src/recv_install_snapshot.h
  src/recv_request_vote.h
  src/recv_request_vote_result.h
  src/recv_timeout_now.h
  src/replication.h
  src/request.h
  src/snapshot.h
  src/syscall.h
  src/tick.h
  src/tracing.h
  src/uv_encoding.h
  src/uv_fs.h
  src/uv.h
  src/uv_ip.h
  src/uv_os.h
  src/uv_tcp.h
  src/uv_writer.h
)

add_library(raft_canonical ${raft_canonical_src} ${raft_canonical_hdr})

